CREATE TABLE WRESTLER
(
    WRESTLER_ID	NUMBER PRIMARY KEY,
    NAME 	VARCHAR2(60),
    SURNAME 	VARCHAR2(60),
    HEIGHT 	NUMBER,
    WEIGHT 	NUMBER
);
CREATE TABLE MANAGER
(
    MANAGER_ID	NUMBER PRIMARY KEY,
    WRESTLER_ID	NUMBER UNIQUE REFERENCES WRESTLER(WRESTLER_ID),
    NAME 	VARCHAR2(60),
    SALARY 	NUMBER
);
CREATE TABLE PROMOTION
(
    PROM_ID 	NUMBER PRIMARY KEY,
    NAME	VARCHAR2(100),
    FOUNDATION 	DATE,
    ATTENDANCE	NUMBER
);
CREATE TABLE WREST_PROM
(
    WRESTLER_ID	NUMBER REFERENCES WRESTLER(WRESTLER_ID),
    PROM_ID     NUMBER REFERENCES PROMOTION(PROM_ID),
    CONSTRAINT WRE_PRO_PK
        PRIMARY KEY (WRESTLER_ID, PROM_ID)
);

INSERT INTO WRESTLER
VALUES(1, 'John', 'Cena', 185, 107);
INSERT INTO WRESTLER
VALUES(2, 'Brock', 'Lesnar', 187, 119);
INSERT INTO WRESTLER
VALUES(3, 'Kenny', 'Omega', 181, 103);
INSERT INTO WRESTLER
VALUES(4, 'Jon', 'Moxley', 180, 101);
INSERT INTO WRESTLER
VALUES(5, 'Bryan', 'Danielson', 174, 80);
INSERT INTO WRESTLER
VALUES(6, 'Matt', 'Jackson', 178, 83);
INSERT INTO WRESTLER
VALUES(7, 'Nick', 'Jackson', 178, 87);

INSERT INTO MANAGER
VALUES(1, 2, 'Paul', 5000);
INSERT INTO MANAGER
VALUES(2, 1, 'Mark', 2000);
INSERT INTO MANAGER
VALUES(3, 3, 'Don', 8000);
INSERT INTO MANAGER
VALUES(4, 4, 'Ann', 3500);
INSERT INTO MANAGER
VALUES(5, 5, 'Richard', 2700);

INSERT INTO PROMOTION
VALUES(1, 'World Wrestling Entertainment', to_date('26-11-1983', 'dd-mm-yyyy'), 5000);
INSERT INTO PROMOTION
VALUES(2, 'All Elite Wrestling', to_date('23-12-2019', 'dd-mm-yyyy'), 4000);
INSERT INTO PROMOTION
VALUES(3, 'Lucha Libre AAA Worldwide', to_date('11-06-1981', 'dd-mm-yyyy'), 2700);
INSERT INTO PROMOTION
VALUES(4, 'New Japan Pro Wrestling', to_date('21-03-1972', 'dd-mm-yyyy'), 4500);
INSERT INTO PROMOTION
VALUES(5, 'All Japan Pro Wrestling', to_date('02-10-1975', 'dd-mm-yyyy'), 3000);

INSERT INTO WREST_PROM
VALUES(1, 1);
INSERT INTO WREST_PROM
VALUES(2, 1);
INSERT INTO WREST_PROM
VALUES(3, 2);
INSERT INTO WREST_PROM
VALUES(6, 2);
INSERT INTO WREST_PROM
VALUES(6, 3);
INSERT INTO WREST_PROM
VALUES(6, 4);

SELECT *
FROM WRESTLER
WHERE NAME = 'John';

SELECT NAME
FROM MANAGER
WHERE SALARY BETWEEN 2500 AND 6000;

SELECT NAME, ATTENDANCE
FROM PROMOTION, (SELECT MAX(ATTENDANCE) MAX_ATT 
    FROM PROMOTION)
WHERE ATTENDANCE = MAX_ATT;

SELECT NAME
FROM PROMOTION P JOIN WREST_PROM WP
	ON P.PROM_ID = WP.PROM_ID
WHERE WRESTLER_ID = 6;